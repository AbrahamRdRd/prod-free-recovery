System.register(["./@ionic-legacy-By4cGjyB.js","./ionicons-legacy-BYlXq-Bl.js","./user-legacy-BBfekNkh.js","./index-legacy-ax7x2NGG.js","./@vue-legacy-D0SgPP5D.js","./_plugin-vue_export-helper-legacy-DgAO6S8O.js","./@stencil-legacy-CapHDfm8.js","./vue-router-legacy-BXDKlxlV.js","./https-legacy-vifKKqOV.js","./axios-legacy-CUPSUh8R.js","./vue-toast-notification-legacy--LaN0e6j.js","./vue-legacy-CLucp-wY.js","./pinia-legacy-DXNVVc9U.js","./register-service-worker-legacy-OLieyxJW.js","./primeflex-legacy-C84Ek2VW.js"],(function(l,e){"use strict";var a,o,n,t,u,d,c,r,i,s,m,f,p,v,y,k,g,_,h,b,j,V,C,w,x,E,P,S,U,I,H,N,z,J,M,A,D,q,B,F,O,R;return{setters:[l=>{a=l.u,o=l.m,n=l.n,t=l.o,u=l.t,d=l.p,c=l.s,r=l.q,i=l.C,s=l.E,m=l.l,f=l.H,p=l.v,v=l.r,y=l.d,k=l.J,g=l.g,_=l.P,h=l._},l=>{b=l.a,j=l.j,V=l.k},l=>{C=l.g,w=l.u},l=>{x=l.u},l=>{E=l.d,P=l.c,S=l.r,U=l.b,I=l.aM,H=l.a1,N=l.aa,z=l.by,J=l.be,M=l.a9,A=l.a2,D=l.$,q=l.a0,B=l.H,F=l.aP,O=l.aN},l=>{R=l._},null,null,null,null,null,null,null,null,null],execute:function(){var W=document.createElement("style");W.textContent=".example-content[data-v-f2d98855]{display:flex;align-items:center;justify-content:center;height:100%}.avatar_btn[data-v-f2d98855]{cursor:pointer}\n",document.head.appendChild(W);const $={class:"h-full flex flex-column justify-content-center align-items-center"},G=["src"],K=(l=>(F("data-v-f2d98855"),l=l(),O(),l))((()=>A("img",{class:"border-circle",alt:"Silhouette of a person's head",src:"https://ionicframework.com/docs/img/demos/avatar.svg"},null,-1)));l("default",R(E({__name:"ProfileInfo",setup(l){const E=x(),F=()=>h((()=>e.import("./ModalProfile-legacy-DXKFRqSZ.js")),void 0),O=P((()=>E.userInfo)),R=JSON.parse(O.value),W=S(!1),L=x(),Q=a(),T=S(!1),X=S(),Y=S({deleted_at:null}),Z=async()=>{const l=await _.create({component:F,componentProps:{userId:Y.value,avatar:el.value}});l.present();const{data:e,role:a}=await l.onWillDismiss();"confirm"===e&&await nl()},ll=()=>{document.getElementById("file-upload").click()},el=S(),al=l=>{const e=l.target.files[0];el.value=e,tl(e)},ol=()=>{L.logout(),T.value=!0,Q.replace("/")},nl=async()=>{try{var l;Y.value=(await C(R.id)).data,console.log("NAME",Y.value),X.value=null===(l=Y.value.city)||void 0===l?void 0:l.state.country.name}catch(e){console.error("Hubo un errror al traer la información del usuario.")}},tl=async l=>{const e=new FormData;e.append("image",l);try{await w(Y.value.id,e),await nl()}catch(a){console.error("Algo salio mal al actualizar.")}};return U((()=>{nl()})),(l,e)=>(I(),H(B,null,[N(J(d),null,{default:z((()=>[N(J(o),null,{default:z((()=>[N(J(n),{slot:"start"},{default:z((()=>[N(J(t),{defaultHref:"/departments",icon:J(b)},null,8,["icon"])])),_:1}),N(J(u),null,{default:z((()=>[M("Perfil personal")])),_:1})])),_:1})])),_:1}),N(J(g),null,{default:z((()=>[N(J(c),null,{default:z((()=>[A("div",$,[N(J(r),{class:"mb-6 w-full md:w-30rem"},{default:z((()=>[N(J(i),{class:"flex justify-content-center mt-5"},{default:z((()=>[Y.value.avatar?(I(),D(J(s),{key:0,onClick:ll,class:"avatar_btn",as:"ion-button"},{default:z((()=>[A("img",{alt:"Silhouette of a person's head",src:Y.value.avatar},null,8,G),A("input",{type:"file",id:"file-upload",style:{display:"none"},onChange:al},null,32)])),_:1})):Y.value.avatar?q("",!0):(I(),D(J(m),{key:1,class:"w-2 h-2",onClick:ll,size:"large",fill:"outline",color:"dark"},{default:z((()=>[A("input",{type:"file",id:"file-upload",style:{display:"none"},onChange:al},null,32),K])),_:1}))])),_:1}),N(J(f),{class:"mt-5"},{default:z((()=>[N(J(p),null,{default:z((()=>[N(J(v),{label:"Nombre(s):",placeholder:"Jonh",modelValue:Y.value.name,"onUpdate:modelValue":e[0]||(e[0]=l=>Y.value.name=l),"label-placement":"stacked",readonly:""},null,8,["modelValue"]),N(J(m),{fill:"outline",color:"dark",onClick:e[1]||(e[1]=l=>Z())},{default:z((()=>[M(" Edit "),N(J(y),{slot:"end",icon:J(j),color:"dark"},null,8,["icon"])])),_:1})])),_:1}),N(J(p),null,{default:z((()=>[N(J(v),{label:"Primer apellido:",placeholder:"Cena",modelValue:Y.value.first_name,"onUpdate:modelValue":e[2]||(e[2]=l=>Y.value.first_name=l),"label-placement":"stacked",readonly:""},null,8,["modelValue"]),N(J(m),{fill:"outline",color:"dark",onClick:e[3]||(e[3]=l=>Z())},{default:z((()=>[M(" Edit "),N(J(y),{slot:"end",icon:J(j),color:"dark"},null,8,["icon"])])),_:1})])),_:1}),N(J(p),null,{default:z((()=>[N(J(v),{label:"Segundo apellido:",placeholder:"Rodríguez",modelValue:Y.value.second_name,"onUpdate:modelValue":e[4]||(e[4]=l=>Y.value.second_name=l),"label-placement":"stacked",readonly:""},null,8,["modelValue"]),N(J(m),{fill:"outline",color:"dark",onClick:e[5]||(e[5]=l=>Z())},{default:z((()=>[M(" Edit "),N(J(y),{slot:"end",icon:J(j),color:"dark"},null,8,["icon"])])),_:1})])),_:1}),N(J(p),null,{default:z((()=>[N(J(v),{label:"email",placeholder:"email@email.com",modelValue:Y.value.email,"onUpdate:modelValue":e[6]||(e[6]=l=>Y.value.email=l),"label-placement":"stacked",readonly:!W.value},null,8,["modelValue","readonly"]),W.value?q("",!0):(I(),D(J(m),{key:0,fill:"outline",color:"dark",onClick:e[7]||(e[7]=l=>Z())},{default:z((()=>[M(" Edit "),N(J(y),{slot:"end",icon:J(j),color:"dark"},null,8,["icon"])])),_:1})),W.value?(I(),D(J(m),{key:1,fill:"outline",color:"dark"},{default:z((()=>[M(" Save "),N(J(y),{slot:"end",icon:J(V),color:"dark"},null,8,["icon"])])),_:1})):q("",!0)])),_:1}),N(J(p),null,{default:z((()=>[N(J(v),{label:"Phone",placeholder:"(+52) 888-888-88-88",modelValue:Y.value.phone,"onUpdate:modelValue":e[8]||(e[8]=l=>Y.value.phone=l),"label-placement":"stacked",readonly:""},null,8,["modelValue"]),N(J(m),{fill:"outline",color:"dark",onClick:e[9]||(e[9]=l=>Z())},{default:z((()=>[M(" Edit "),N(J(y),{slot:"end",icon:J(j),color:"dark"},null,8,["icon"])])),_:1})])),_:1}),N(J(p),null,{default:z((()=>[N(J(v),{label:"País",placeholder:"your country",modelValue:X.value,"onUpdate:modelValue":e[10]||(e[10]=l=>X.value=l),"label-placement":"stacked",readonly:""},null,8,["modelValue"]),N(J(m),{fill:"outline",color:"dark",onClick:e[11]||(e[11]=l=>Z())},{default:z((()=>[M(" Edit "),N(J(y),{slot:"end",icon:J(j),color:"dark"},null,8,["icon"])])),_:1})])),_:1})])),_:1})])),_:1}),N(J(m),{onClick:ol,class:"px-1 w-full md:w-30rem",expand:"block",fill:"outline",color:"dark"},{default:z((()=>[M("Cerrar Sesión")])),_:1}),T.value?(I(),D(J(k),{key:0,"is-open":T.value,message:"Cerrando sessión...",spinner:"circles",duration:2e3},null,8,["is-open"])):q("",!0)])])),_:1})])),_:1})],64))}}),[["__scopeId","data-v-f2d98855"]]))}}}));
