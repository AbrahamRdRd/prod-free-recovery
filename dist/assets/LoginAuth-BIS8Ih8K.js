import{d as _,b as v,y as I,r as w,o as k,a as y,w as o,j as t,e,u as a,k as b,l as x,J as A,a2 as R,K as C,a0 as L,m as d,aE as N,p as i,n as z,R as B,s as S}from"./index-VH1rgcL1.js";import{h as V}from"./https-B8wFfxeR.js";import{_ as j}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./axios-CwoVb0Lo.js";const T=u=>V.post("/api/auth/token",u),q={class:"h-full flex justify-content-center align-items-center"},E={class:"ion-margin-top ion-padding-horizontal"},J={class:"ion-margin-top ion-padding-horizontal"},K={class:"ion-margin-start ion-padding-top"},P={class:"ion-padding-horizontal"},M=_({__name:"LoginAuth",emits:["change","deactiveAuth"],setup(u,{emit:p}){const m=p,c=v(),g=I(),s=w({email:"",password:""}),f=async()=>{try{const n=(await T(s.value)).data;console.log("user auth",s.value),g.setSession(n.token,n.user),c.navigate("/","forward","replace")}catch(n){console.error("Algo salio mal :(, revisa tu correo y contraseña")}},h=()=>{m("change",!0),c.navigate("/registro")};return(n,l)=>(k(),y(a(S),null,{default:o(()=>[t("div",q,[e(a(b),{class:"w-full md:w-30rem"},{default:o(()=>[t("form",{onSubmit:x(f,["prevent"]),class:"ion-margin-horizontal"},[e(a(A),null,{default:o(()=>[e(a(R),{class:"flex justify-content-center"},{default:o(()=>[e(a(C),null,{default:o(()=>[e(a(L),{src:"https://i.imgur.com/NJrNK4Z.png",alt:"Turismo de salud. Regresa como nueva."})]),_:1})]),_:1})]),_:1}),t("div",E,[e(a(d),{value:s.value.email,onInput:l[0]||(l[0]=r=>s.value.email=r.target.value),label:"Email","label-placement":"floating",fill:"outline",type:"email",placeholder:"email@domain.com"},null,8,["value"])]),t("div",J,[e(a(d),{value:s.value.password,onInput:l[1]||(l[1]=r=>s.value.password=r.target.value),label:"Password",type:"password","label-placement":"floating",fill:"outline"},null,8,["value"])]),t("p",K,[e(a(N),{to:"/recuperar-contraseña"},{default:o(()=>[i("¿Olvidaste tú contraseña?")]),_:1})]),t("div",P,[e(a(z),{expand:"block",type:"submit"},{default:o(()=>[i("Log In")]),_:1})]),e(a(B)),t("p",{class:"ion-margin-start"},[i("¿Aún no tienes cuenta? "),t("a",{class:"anchor-register",onClick:h},"Registrate aquí")])],32)]),_:1})])]),_:1}))}}),G=j(M,[["__scopeId","data-v-e6c6e8d8"]]);export{G as default};
