import{d as F,a4 as L,r as s,u as H,F as p,o as f,a as b,w as a,f as e,b as t,C as J,s as r,A as Q,R as i,Q as N,ad as w,ae as M,af as z,B as d,D as U,a3 as c,l as o,J as y,c as S,S as D,ag as q,m as G}from"./index-MuRIsHgE.js";import{h as B}from"./https-bBgRv3Y8.js";const K=()=>B.get("/api/departments"),W=I=>B.get("/api/departments/".concat(I)),Y=o("h2",null,"Detalle de precio",-1),Z={class:"ion-padding-start ion-no-margin",style:{"font-size":"16px"}},ee={key:0,class:"ion-no-margin",style:{"font-size":"16px"}},te={class:"ion-padding-start ion-no-margin",style:{"font-size":"18px"}},ae=o("u",null,"Tarifia de servicio",-1),ne={key:0,class:"ion-no-margin",style:{"font-size":"18px"}},oe=o("p",{class:"ion-padding-start"},[o("b",null,"Total(MXN)")],-1),le={class:"ion-padding-start",style:{"font-size":"18px"}},ue=F({__name:"ReservationCard",emits:["date_in","date_out"],setup(I,{emit:R}){const T=L(),x=s({date:{weekday:"short",month:"long",day:"2-digit"}}),C=R;s("");const O=s(""),v=s(""),_=s(""),$=H(),E=(n,k)=>{const m=new Date(n),g=new Date(k),h=Math.abs(g.getTime()-m.getTime());return Math.ceil(h/(1e3*60*60*24))},u=s(0),V=async()=>{try{const n=await W(1);console.log("RES dep",n)}catch(n){console.log(n),console.error("No pudimos traer el departemato",n)}},X=T.params.id,j=s(parseInt(X));console.log(j.value);const l=s(),A=async()=>{try{const n=(await K()).data;C("date_in",v.value),C("date_out",_.value),l.value=E(_.value,v.value)}catch(n){console.error("No pudimos traer el departamento",n)}};return $.isLogged&&(A(),V()),(n,k)=>{const m=p("ion-label"),g=p("ion-button"),h=p("ion-text"),P=p("ion-icon");return f(),b(t(G),{class:"ion-padding-vertical w-30rem"},{default:a(()=>[e(t(U),null,{default:a(()=>[e(t(J),null,{default:a(()=>[r("Departamentos Semilleros Purisima")]),_:1}),e(t(Q),null,{default:a(()=>[r("2600 p/noche")]),_:1}),e(t(i)),e(t(N),null,{default:a(()=>[e(t(i),null,{default:a(()=>[e(m,null,{default:a(()=>[r("Día de entrada")]),_:1}),e(t(w),{datetime:"datetime"}),e(t(M),{"keep-contents-mounted":!0},{default:a(()=>[e(t(z),{id:"datetime",presentation:"date",value:v.value,"format-options":x.value},null,8,["value","format-options"])]),_:1})]),_:1})]),_:1}),e(t(N),null,{default:a(()=>[e(t(i),null,{default:a(()=>[e(m,null,{default:a(()=>[r("Día de Salida")]),_:1}),e(t(w),{datetime:"datetimeOut"}),e(t(M),{"keep-contents-mounted":!0},{default:a(()=>[r(d(_.value)+" ",1),e(t(z),{id:"datetimeOut",presentation:"date",value:_.value,"format-options":x.value},null,8,["value","format-options"])]),_:1})]),_:1})]),_:1})]),_:1}),e(g,{href:O.value,expand:"block",class:"ion-margin"},{default:a(()=>[r("Reservar")]),_:1},8,["href"]),e(t(i),null,{default:a(()=>[e(h,{class:"ion-padding-start"},{default:a(()=>[Y]),_:1})]),_:1}),e(t(i),null,{default:a(()=>[e(t(c),{size:"6"},{default:a(()=>[o("p",Z,[o("u",null,"$"+d(u.value)+"MXN x "+d(l.value)+" noches",1)])]),_:1}),e(t(c),{size:"6"},{default:a(()=>[e(t(y),{class:"ion-justify-content-end ion-margin-end"},{default:a(()=>[u.value&&l.value?(f(),S("p",ee,"$"+d(u.value*l.value)+" MXN",1)):D("",!0)]),_:1})]),_:1})]),_:1}),e(t(i),null,{default:a(()=>[e(t(c),null,{default:a(()=>[o("p",te,[ae,e(P,{icon:t(q)},null,8,["icon"])])]),_:1}),e(t(c),null,{default:a(()=>[e(t(y),{class:"ion-justify-content-end ion-margin-end"},{default:a(()=>[u.value&&l.value?(f(),S("p",ne,"$"+d(u.value*l.value*.1)+" MXN",1)):D("",!0)]),_:1})]),_:1})]),_:1}),e(t(i),null,{default:a(()=>[e(t(c),null,{default:a(()=>[oe]),_:1}),e(t(c),null,{default:a(()=>[l.value?(f(),b(t(y),{key:0,class:"ion-justify-content-end ion-margin-end"},{default:a(()=>[o("p",le,[o("b",null,"$"+d((u.value*l.value*1.1).toFixed(2)),1)])]),_:1})):D("",!0)]),_:1})]),_:1})]),_:1})}}});export{ue as _};
