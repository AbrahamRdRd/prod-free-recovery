System.register(["./@vue-legacy-D0SgPP5D.js","./@ionic-legacy-CAWqWNAi.js","./index-legacy-CTO43FBS.js","./auth-legacy-BAXrfL2B.js","./_plugin-vue_export-helper-legacy-DgAO6S8O.js","./@stencil-legacy-CapHDfm8.js","./vue-router-legacy-BXDKlxlV.js","./ionicons-legacy-BYlXq-Bl.js","./pinia-legacy-DXNVVc9U.js","./register-service-worker-legacy-OLieyxJW.js","./primeflex-legacy-BopLd2K7.js","./https-legacy-CTN2qIJ0.js","./axios-legacy-CUPSUh8R.js","./vue-toast-notification-legacy--LaN0e6j.js","./vue-legacy-CLucp-wY.js"],(function(e,a){"use strict";var t,l,n,s,o,r,i,u,c,d,g,p,v,m,y,f,h,b,j,_,w,x,I,C,k,z,A,D,E;return{setters:[e=>{t=e.d,l=e.r,n=e.aM,s=e.$,o=e.by,r=e.a2,i=e.aa,u=e.bC,c=e.be,d=e.a9,g=e.a0,p=e.aP,v=e.aN},e=>{m=e.u,y=e.E,f=e.t,h=e.G,b=e.M,j=e.s,_=e.l,w=e.v,x=e.r,I=e.L,C=e.z,k=e.g},e=>{z=e.u},e=>{A=e.a,D=e.f},e=>{E=e._},null,null,null,null,null,null,null,null,null,null],execute:function(){var a=document.createElement("style");a.textContent=".anchor-register[data-v-4ca00a2b]{cursor:pointer}.anchor-register[data-v-4ca00a2b]:hover{text-decoration:underline}.forgot-presente-alert[data-v-4ca00a2b]{cursor:pointer}\n",document.head.appendChild(a);const L={class:"h-full flex justify-content-center align-items-center"},N={class:"ion-margin-top ion-padding-horizontal"},R={class:"ion-margin-top ion-padding-horizontal"},S={class:"forgot-presente-alert ion-margin-start ion-padding-top"},K={class:"ion-padding-horizontal"},M=(e=>(p("data-v-4ca00a2b"),e=e(),v(),e))((()=>r("p",{class:"ion-margin-start"},[d("¿Aún no tienes cuenta? "),r("a",{href:"/registro",as:"ion-button","router-direction":"forward",id:"open-loading",class:"anchor-register"},"Registrate aquí")],-1)));e("default",E(t({__name:"LoginAuth",emits:["change","deactiveAuth"],setup(e,{emit:a}){const t=m(),p=z(),v=l({email:"",password:""}),E=l(!1),O=l(!1),P=l(!1),q=["OK"],G=[{text:"Cerrar"},{text:"Enviar",handler:e=>{Z(e[0])}}],J=[{placeholder:"Ingresa tú correo",type:"email"}],T=async()=>{console.log("provando"),P.value=!0;try{const e=(await A(v.value)).data;p.setSession(e.token,e.user),t.push("/departments")}catch(e){406==e.response.status&&(E.value=!0)}},Z=async e=>{E.value=!1;try{await D({email:e})}catch(a){console.error("Revisa tú correo")}},$=e=>{E.value=e};return(e,a)=>(n(),s(c(k),null,{default:o((()=>[r("div",L,[i(c(x),{class:"w-full md:w-30rem"},{default:o((()=>[r("form",{onSubmit:u(T,["prevent"]),class:"ion-margin-horizontal"},[i(c(y),null,{default:o((()=>[i(c(f),{class:"flex justify-content-center"},{default:o((()=>[i(c(h),null,{default:o((()=>[i(c(b),{src:"https://i.imgur.com/NJrNK4Z.png",alt:"Turismo de salud. Regresa como nueva."})])),_:1})])),_:1})])),_:1}),r("div",N,[i(c(j),{value:v.value.email,onInput:a[0]||(a[0]=e=>v.value.email=e.target.value),label:"Email","label-placement":"floating",fill:"outline",type:"email",placeholder:"email@domain.com"},null,8,["value"])]),r("div",R,[i(c(j),{value:v.value.password,onInput:a[1]||(a[1]=e=>v.value.password=e.target.value),label:"Password",type:"password","label-placement":"floating",fill:"outline"},null,8,["value"])]),r("p",S,[r("a",{id:"present-alert","router-direction":"forward",onClick:a[2]||(a[2]=e=>E.value=!0)},"¿Olvidaste tú contraseña?")]),r("div",K,[i(c(_),{expand:"block",type:"submit"},{default:o((()=>[d("Log In")])),_:1})]),i(c(w)),M],32)])),_:1})]),P.value?(n(),s(c(I),{key:0,"is-open":P.value,message:"Loading...",spinner:"circles",duration:"2000"},null,8,["is-open"])):g("",!0),i(c(C),{"is-open":E.value,trigger:"present-alert",header:"Ingresa tú correo",buttons:G,inputs:J,onDidDismiss:a[3]||(a[3]=e=>$(!1))},null,8,["is-open"]),i(c(C),{"is-open":O.value,header:"Correo o contraseñas son incorrectos.",message:"Algo salio mal. Intenta de nuevo",buttons:q,onDidDismiss:a[4]||(a[4]=e=>$(!1))},null,8,["is-open"])])),_:1}))}}),[["__scopeId","data-v-4ca00a2b"]]))}}}));
