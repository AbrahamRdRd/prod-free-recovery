System.register(["./index-legacy-CW1NlSFU.js","./https-legacy-DyGVZRWv.js","./_plugin-vue_export-helper-legacy-DgAO6S8O.js","./axios-legacy-CUPSUh8R.js"],(function(e,a){"use strict";var t,n,l,s,o,i,r,u,c,d,p,m,g,v,f,h,y,_,b,w,x,k,j,I,L,z,A,C,S;return{setters:[e=>{t=e.d,n=e.f,l=e.u,s=e.r,o=e.G,i=e.o,r=e.b,u=e.w,c=e.m,d=e.g,p=e.p,m=e.e,g=e.L,v=e.J,f=e.P,h=e.a4,y=e.q,_=e.t,b=e.s,w=e.W,x=e.n,k=e.aK,j=e.X,I=e.aL,L=e.l,z=e.x,A=e.y},e=>{C=e.h},e=>{S=e._},null],execute:function(){var a=document.createElement("style");a.textContent=".anchor-register[data-v-835529b3]{cursor:pointer}.anchor-register[data-v-835529b3]:hover{text-decoration:underline}\n",document.head.appendChild(a);const q={class:"h-full flex justify-content-center align-items-center"},D={class:"ion-margin-top ion-padding-horizontal"},E={class:"ion-margin-top ion-padding-horizontal"},J={class:"ion-margin-start ion-padding-top"},K={class:"ion-padding-horizontal"},N=(e=>(z("data-v-835529b3"),e=e(),A(),e))((()=>c("p",{class:"ion-margin-start"},[_("¿Aún no tienes cuenta? "),c("a",{href:"/registro","router-direction":"forward",id:"open-loading",class:"anchor-register"},"Registrate aquí")],-1)));e("default",S(t({__name:"LoginAuth",emits:["change","deactiveAuth"],setup(e,{emit:a}){const t=n(),z=l(),A=s({email:"",password:""}),S=s(!1),O=["Ok"],P=s(!1),R=async()=>{P.value=!0;try{const e=(await(e=>C.post("/api/auth/token",e))(A.value)).data;z.setSession(e.token,e.user),t.push("/departments")}catch(e){406==e.response.status&&(S.value=!0)}};return(e,a)=>{const t=o("router-link");return i(),r(m(L),null,{default:u((()=>[c("div",q,[d(m(x),{class:"w-full md:w-30rem"},{default:u((()=>[c("form",{onSubmit:p(R,["prevent"]),class:"ion-margin-horizontal"},[d(m(g),null,{default:u((()=>[d(m(v),{class:"flex justify-content-center"},{default:u((()=>[d(m(f),null,{default:u((()=>[d(m(h),{src:"https://i.imgur.com/NJrNK4Z.png",alt:"Turismo de salud. Regresa como nueva."})])),_:1})])),_:1})])),_:1}),c("div",D,[d(m(y),{value:A.value.email,onInput:a[0]||(a[0]=e=>A.value.email=e.target.value),label:"Email","label-placement":"floating",fill:"outline",type:"email",placeholder:"email@domain.com"},null,8,["value"])]),c("div",E,[d(m(y),{value:A.value.password,onInput:a[1]||(a[1]=e=>A.value.password=e.target.value),label:"Password",type:"password","label-placement":"floating",fill:"outline"},null,8,["value"])]),c("p",J,[d(t,{to:"/recuperar-contraseña"},{default:u((()=>[_("¿Olvidaste tú contraseña?")])),_:1})]),c("div",K,[d(m(b),{expand:"block",type:"submit"},{default:u((()=>[_("Log In")])),_:1})]),d(m(w)),N],32)])),_:1})]),P.value?(i(),r(m(k),{key:0,"is-open":P.value,message:"Loading...",spinner:"circles",duration:"3000"},null,8,["is-open"])):j("",!0),d(m(I),{"is-open":S.value,header:"Correo o contraseñas son incorrectos.",message:"Algo salio mal. Intenta de nuevo",buttons:O,onDidDismiss:a[2]||(a[2]=e=>{return a=!1,void(S.value=a);var a})},null,8,["is-open"])])),_:1})}}}),[["__scopeId","data-v-835529b3"]]))}}}));
