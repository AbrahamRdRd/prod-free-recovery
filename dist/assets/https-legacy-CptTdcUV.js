System.register(["./axios-legacy-CUPSUh8R.js","./index-legacy-Dwp93Gjm.js","./vue-toast-notification-legacy-CcnPxyzq.js","./pinia-legacy-DXNVVc9U.js"],(function(e,s){"use strict";var t,r,o,a,i;return{setters:[e=>{t=e.a},e=>{r=e.u,o=e.r},e=>{a=e.d},e=>{i=e.d}],execute:function(){const s=i("loading",{state:()=>({active:!1,msg:""}),actions:{setLoading(e){this.active=!0,this.msg=e},clearLoading(){this.active=!1,this.msg=""}}}),n=e("h",t.create({baseURL:"https://api.recovery-suites.com",timeout:5e4,headers:{Accept:"application/json"}}));n.interceptors.request.use((async e=>{const s=r();return s.isLogged&&(e.headers.Authorization=`Bearer ${s.token}`),e})),n.interceptors.response.use((e=>(s().clearLoading(),e)),(e=>{const t=r(),i=a.useToast();if(s().clearLoading(),401===e.response.status||419===e.response.status){t.logout(),i.error("Te invitamos a loguearte");const s=401===e.response.status?"/login":"/";o.push({path:s})}return 422===e.response.status&&i.error(e.response.data.message),403===e.response.status&&i.error("El usuario no tiene permisos para acceder al recurso, contacte a un administrador."),404===e.response.status&&i.error("El recurso solicitado no existe"),500===e.response.status&&i.error("Error de conexion al servidor."),Promise.reject(e)}))}}}));
